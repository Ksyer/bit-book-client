{"version":3,"sources":["webpack:///./src/views/store/BookSpeaking.vue?9e70","webpack:///./src/views/store/BookSpeaking.vue?189d","webpack:///./src/views/store/BookSpeaking.vue","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./src/components/speak/SpeakBottom.vue?c187","webpack:///src/components/speak/SpeakBottom.vue","webpack:///./src/components/speak/SpeakBottom.vue?1361","webpack:///./src/components/speak/SpeakBottom.vue","webpack:///./src/components/speak/SpeakMask.vue?37f6","webpack:///src/components/speak/SpeakMask.vue","webpack:///./src/components/speak/SpeakMask.vue?1b72","webpack:///./src/components/speak/SpeakMask.vue","webpack:///./src/components/speak/SpeakMask.vue?36c0","webpack:///./src/components/detail/BookInfo.vue?3031","webpack:///src/views/store/BookSpeaking.vue","webpack:///./src/components/detail/DetailTitle.vue?ea72","webpack:///./src/components/detail/BookInfo.vue?6de9","webpack:///src/components/detail/BookInfo.vue","webpack:///./src/components/detail/BookInfo.vue?08d9","webpack:///./src/components/detail/BookInfo.vue","webpack:///./src/components/speak/SpeakPlaying.vue?799d","webpack:///src/components/speak/SpeakPlaying.vue","webpack:///./src/components/speak/SpeakPlaying.vue?4c13","webpack:///./src/components/speak/SpeakPlaying.vue","webpack:///./src/components/detail/DetailTitle.vue?89ea","webpack:///src/components/detail/DetailTitle.vue","webpack:///./src/components/detail/DetailTitle.vue?abae","webpack:///./src/components/detail/DetailTitle.vue","webpack:///./src/components/speak/SpeakBottom.vue?b8c3","webpack:///./src/views/store/BookSpeaking.vue?6877","webpack:///./src/components/speak/SpeakPlaying.vue?689f"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","on","back","attrs","scrollBottom","disableScroll","onScroll","cover","title","author","desc","_v","_s","$t","toggleContent","class","ifShowContent","directives","name","rawName","value","expression","navigation","_e","_l","item","index","key","$event","speak","playingIndex","refInFor","label","onCanPlay","onTimeUpdate","onAudioEnded","chapter","currentSectionIndex","currentSectionTotal","showPlay","isPlaying","playInfo","onPlayingCardClick","_m","book","section","updateText","toastText","staticRenderFns","component","redefine","anObject","$toString","fails","flags","TO_STRING","RegExpPrototype","RegExp","prototype","nativeToString","NOT_GENERIC","call","source","INCORRECT_NAME","R","p","rf","f","undefined","unsafe","stopPropagation","preventDefault","apply","arguments","togglePlay","currentMinute","currentSecond","totalMinute","totalSecond","props","Object","Number","Boolean","methods","$parent","$emit","hide","domProps","progress","onProgressChange","target","onProgressInput","leftMinute","leftSecond","prev","next","String","data","visible","speakCardVisible","readHeight","refreshProgress","$refs","style","backgroundSize","promise","then","rendition","resetPlay","setTimeout","display","renderTo","width","window","innerWidth","height","method","displayed","href","show","refresh","$nextTick","bookWrapper","global","ePub","components","DetailTitle","BookInfo","Scroll","SpeakPlaying","Bottom","SpeakWindow","Toast","computed","m","s","audioCanPlay","lang","metadata","language","speakWindow","flatNavigation","description","substring","Array","concat","category","bookItem","creator","paragraph","audio","currentPlayingTime","totalPlayingTime","playStatus","isOnline","currentTime","percent","duration","findBookFromList","response","status","bookList","length","init","err","blob","opf","fileName","downloadBook","parseBook","loaded","coverUrl","$router","go","offsetY","showShadow","hideShadow","doFlatNavigation","content","forEach","deep","arr","push","subitems","spine","get","text","replace","showToast","toast","pausePlay","play","continuePlay","createVoice","pause","speakPlaying","stopAnimation","xmlhttp","open","send","xmlDoc","json","path","src","mounted","number","styles","i","startAnimation","task","setInterval","clearInterval","random","Math","ceil","ifHideShadow","showBookShelf","showShelf","type","default"],"mappings":"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","file":"js/chunk-1c957091.d261f3a4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"book-speaking\"},[_c('detail-title',{ref:\"title\",on:{\"back\":_vm.back}}),_c('scroll',{ref:\"scroll\",staticClass:\"content-wrapper\",attrs:{\"top\":42,\"bottom\":_vm.scrollBottom,\"ifNoScroll\":_vm.disableScroll},on:{\"onScroll\":_vm.onScroll}},[_c('book-info',{attrs:{\"cover\":_vm.cover,\"title\":_vm.title,\"author\":_vm.author,\"desc\":_vm.desc}}),_c('div',{staticClass:\"book-speak-title-wrapper\"},[_c('div',{staticClass:\"icon-speak-wrapper\"},[_c('span',{staticClass:\"icon-speak\"})]),_c('div',{staticClass:\"speak-title-wrapper\"},[_c('span',{staticClass:\"speak-title\"},[_vm._v(_vm._s(_vm.$t('speak.voice')))])]),_c('div',{staticClass:\"icon-down-wrapper\",on:{\"click\":_vm.toggleContent}},[_c('span',{class:{ 'icon-down2': !_vm.ifShowContent, 'icon-up': _vm.ifShowContent }})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ifShowContent),expression:\"ifShowContent\"}],staticClass:\"book-detail-content-wrapper\"},[_c('div',{staticClass:\"book-detail-content-list-wrapper\"},[(!this.navigation)?_c('div',{staticClass:\"loading-text-wrapper\"},[_c('span',{staticClass:\"loading-text\"},[_vm._v(_vm._s(_vm.$t('detail.loading')))])]):_vm._e(),_c('div',{staticClass:\"book-detail-content-item-wrapper\"},_vm._l((_vm.flatNavigation),function(item,index){return _c('div',{key:index,staticClass:\"book-detail-content-item\",on:{\"click\":function($event){return _vm.speak(item, index)}}},[(_vm.playingIndex === index)?_c('speak-playing',{ref:\"speakPlaying\",refInFor:true,attrs:{\"number\":5}}):_vm._e(),(item.label)?_c('div',{staticClass:\"book-detail-content-navigation-text\",class:{ 'is-playing': _vm.playingIndex === index }},[_vm._v(\" \"+_vm._s(item.label)+\" \")]):_vm._e()],1)}),0)])]),_c('audio',{ref:\"audio\",on:{\"canplay\":_vm.onCanPlay,\"timeupdate\":_vm.onTimeUpdate,\"ended\":_vm.onAudioEnded}})],1),_c('bottom',{attrs:{\"chapter\":_vm.chapter,\"currentSectionIndex\":_vm.currentSectionIndex,\"currentSectionTotal\":_vm.currentSectionTotal,\"showPlay\":_vm.showPlay,\"isPlaying\":_vm.isPlaying,\"playInfo\":_vm.playInfo},on:{\"update:isPlaying\":function($event){_vm.isPlaying=$event},\"update:is-playing\":function($event){_vm.isPlaying=$event},\"onPlayingCardClick\":_vm.onPlayingCardClick}}),_vm._m(0),_c('speak-window',{ref:\"speakWindow\",attrs:{\"title\":this.chapter ? this.chapter.label : '',\"book\":_vm.book,\"section\":_vm.section,\"currentSectionIndex\":_vm.currentSectionIndex,\"currentSectionTotal\":_vm.currentSectionTotal,\"isPlaying\":_vm.isPlaying,\"playInfo\":_vm.playInfo},on:{\"update:currentSectionIndex\":function($event){_vm.currentSectionIndex=$event},\"update:current-section-index\":function($event){_vm.currentSectionIndex=$event},\"update:isPlaying\":function($event){_vm.isPlaying=$event},\"update:is-playing\":function($event){_vm.isPlaying=$event},\"updateText\":_vm.updateText}}),_c('toast',{ref:\"toast\",attrs:{\"text\":_vm.toastText}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"book-wrapper\"},[_c('div',{attrs:{\"id\":\"read\"}})])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookSpeaking.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookSpeaking.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BookSpeaking.vue?vue&type=template&id=b506d0fa&scoped=true&\"\nimport script from \"./BookSpeaking.vue?vue&type=script&lang=js&\"\nexport * from \"./BookSpeaking.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BookSpeaking.vue?vue&type=style&index=0&id=b506d0fa&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b506d0fa\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar $toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = $toString(R.source);\n    var rf = R.flags;\n    var f = $toString(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bottom-wrapper\",class:{ 'hide-play': !_vm.showPlay }},[(_vm.showPlay)?_c('div',{staticClass:\"bottom-playing-wrapper\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onPlayingCardClick.apply(null, arguments)}}},[_c('div',{staticClass:\"bottom-playing-left\"},[_c('div',{staticClass:\"icon-play-wrapper\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.togglePlay.apply(null, arguments)}}},[(!_vm.isPlaying)?_c('span',{staticClass:\"icon-play_go\"}):_c('span',{staticClass:\"icon-play_pause\"})])]),_c('div',{staticClass:\"bottom-playing-right\"},[_c('div',{staticClass:\"bottom-playing-chapter-text\"},[_c('span',{staticClass:\"chapter-label\"},[_vm._v(_vm._s(_vm.chapter ? _vm.chapter.label : ''))]),(_vm.currentSectionIndex && _vm.currentSectionTotal)?_c('span',{staticClass:\"bottom-playing-page-text\"},[_vm._v(\"( \"+_vm._s(_vm.currentSectionIndex)+\" / \"+_vm._s(_vm.currentSectionTotal)+\" )\")]):_vm._e()]),_c('div',{staticClass:\"bottom-playing-page-text\"},[_vm._v(\" \"+_vm._s(_vm.playInfo ? _vm.playInfo.currentMinute : '00')+\":\"+_vm._s(_vm.playInfo ? _vm.playInfo.currentSecond : '00')+\" / \"+_vm._s(_vm.playInfo ? _vm.playInfo.totalMinute : '00')+\":\"+_vm._s(_vm.playInfo ? _vm.playInfo.totalSecond : '00')+\" \")])])]):_vm._e(),_c('div',{staticClass:\"bottom-btn-wrapper\"},[_c('span',{staticClass:\"bottom-btn-text\"},[_vm._v(_vm._s(_vm.$t('detail.addOrRemoveShelf')))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"bottom-wrapper\" :class=\"{ 'hide-play': !showPlay }\">\r\n    <div\r\n      class=\"bottom-playing-wrapper\"\r\n      @click.stop.prevent=\"onPlayingCardClick\"\r\n      v-if=\"showPlay\"\r\n    >\r\n      <div class=\"bottom-playing-left\">\r\n        <div class=\"icon-play-wrapper\" @click.stop.prevent=\"togglePlay\">\r\n          <span class=\"icon-play_go\" v-if=\"!isPlaying\"></span>\r\n          <span class=\"icon-play_pause\" v-else></span>\r\n        </div>\r\n      </div>\r\n      <div class=\"bottom-playing-right\">\r\n        <div class=\"bottom-playing-chapter-text\">\r\n          <span class=\"chapter-label\">{{ chapter ? chapter.label : '' }}</span>\r\n          <span\r\n            class=\"bottom-playing-page-text\"\r\n            v-if=\"currentSectionIndex && currentSectionTotal\"\r\n            >( {{ currentSectionIndex }} / {{ currentSectionTotal }} )</span\r\n          >\r\n        </div>\r\n        <div class=\"bottom-playing-page-text\">\r\n          {{ playInfo ? playInfo.currentMinute : '00' }}:{{\r\n            playInfo ? playInfo.currentSecond : '00'\r\n          }}\r\n          / {{ playInfo ? playInfo.totalMinute : '00' }}:{{\r\n            playInfo ? playInfo.totalSecond : '00'\r\n          }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"bottom-btn-wrapper\">\r\n      <span class=\"bottom-btn-text\">{{ $t('detail.addOrRemoveShelf') }}</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    chapter: Object,\r\n    currentSectionIndex: Number,\r\n    currentSectionTotal: Number,\r\n    showPlay: Boolean,\r\n    isPlaying: Boolean,\r\n    playInfo: Object\r\n  },\r\n  methods: {\r\n    togglePlay() {\r\n      this.$parent.togglePlay()\r\n    },\r\n    onPlayingCardClick() {\r\n      this.$emit('onPlayingCardClick')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\r\n@import '../../assets/styles/global';\r\n\r\n.bottom-wrapper {\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  z-index: 110;\r\n  width: 100%;\r\n  height: px2rem(116);\r\n  background: white;\r\n  box-shadow: 0 px2rem(-2) px2rem(2) 0 rgba(0, 0, 0, 0.1);\r\n  &.hide-play {\r\n    height: px2rem(52);\r\n  }\r\n  .bottom-playing-wrapper {\r\n    display: flex;\r\n    width: 100%;\r\n    height: px2rem(64);\r\n    .bottom-playing-left {\r\n      flex: 0 0 px2rem(70);\r\n      width: px2rem(70);\r\n      @include center;\r\n      .icon-play-wrapper {\r\n        flex: 0 0 px2rem(100);\r\n        @include center;\r\n        &:active {\r\n          opacity: 0.5;\r\n        }\r\n        .icon-play_go {\r\n          font-size: px2rem(40);\r\n          color: $color-blue;\r\n        }\r\n        .icon-play_pause {\r\n          font-size: px2rem(40);\r\n          color: $color-blue;\r\n        }\r\n      }\r\n    }\r\n    .bottom-playing-right {\r\n      flex: 1;\r\n      padding-right: px2rem(15);\r\n      box-sizing: border-box;\r\n      @include columnLeft;\r\n      .bottom-playing-chapter-text {\r\n        max-width: px2rem(305);\r\n        color: #333;\r\n        font-size: px2rem(16);\r\n        line-height: px2rem(19);\r\n        @include ellipsis;\r\n      }\r\n      .bottom-playing-page-text {\r\n        color: #666;\r\n        font-size: px2rem(10);\r\n        margin-top: px2rem(5);\r\n      }\r\n    }\r\n  }\r\n  .bottom-btn-wrapper {\r\n    width: 100%;\r\n    height: px2rem(52);\r\n    border-top: px2rem(1) solid #eee;\r\n    box-sizing: border-box;\r\n    @include center;\r\n    .bottom-btn-text {\r\n      font-size: px2rem(14);\r\n      color: $color-blue;\r\n      font-weight: bold;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakBottom.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakBottom.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SpeakBottom.vue?vue&type=template&id=678d87a8&scoped=true&\"\nimport script from \"./SpeakBottom.vue?vue&type=script&lang=js&\"\nexport * from \"./SpeakBottom.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SpeakBottom.vue?vue&type=style&index=0&id=678d87a8&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"678d87a8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visible),expression:\"visible\"}],staticClass:\"book-speak-mask-wrapper\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.hide.apply(null, arguments)}}},[_c('transition',{attrs:{\"name\":\"popup-slide-up\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.speakCardVisible),expression:\"speakCardVisible\"}],staticClass:\"book-speak-mask-card-wrapper\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.hide.apply(null, arguments)}}},[_c('div',{staticClass:\"pulldown-icon-wrapper\",on:{\"click\":_vm.hide}},[_c('span',{staticClass:\"icon-pull_down\"})]),_c('div',{staticClass:\"card-title-wrapper\"},[_c('div',{staticClass:\"icon-speak-wrapper\"},[_c('span',{staticClass:\"icon-speak\"})]),_c('div',{staticClass:\"speak-title-wrapper\"},[_c('span',{staticClass:\"speak-title\"},[_vm._v(_vm._s(_vm.$t('speak.voice')))])]),_c('div',{staticClass:\"read-fulltext-wrapper\"},[_c('span',{staticClass:\"read-fulltext\"},[_vm._v(_vm._s(_vm.$t('speak.read')))])])]),_c('div',{staticClass:\"card-section-title-wrapper\"},[_c('div',{staticClass:\"card-section-title-text\"},[_vm._v(_vm._s(_vm.title))]),(_vm.currentSectionIndex)?_c('div',{staticClass:\"card-section-sub-title-text\"},[_vm._v(\" \"+_vm._s(_vm.currentSectionIndex)+\" / \"+_vm._s(_vm.currentSectionTotal)+\" \")]):_vm._e()]),_c('div',{staticClass:\"setting-progress\"},[_c('div',{staticClass:\"progress-wrapper\"},[_c('input',{ref:\"progress\",staticClass:\"progress\",attrs:{\"type\":\"range\",\"max\":\"100\",\"min\":\"0\",\"step\":\"1\"},domProps:{\"value\":_vm.progress},on:{\"change\":function($event){return _vm.onProgressChange($event.target.value)},\"input\":function($event){return _vm.onProgressInput($event.target.value)}}})]),_c('div',{staticClass:\"progress-text\"},[_c('div',{staticClass:\"progress-text-current\"},[_vm._v(\" \"+_vm._s(_vm.playInfo ? _vm.playInfo.currentMinute : '00')+\":\"+_vm._s(_vm.playInfo ? _vm.playInfo.currentSecond : '00')+\" \")]),_c('div',{staticClass:\"progress-text-left\"},[_vm._v(\" -\"+_vm._s(_vm.playInfo ? _vm.playInfo.leftMinute : '00')+\":\"+_vm._s(_vm.playInfo ? _vm.playInfo.leftSecond : '00')+\" \")])])]),_c('div',{staticClass:\"playing-wrapper\"},[_c('div',{staticClass:\"icon-settings-wrapper\"},[_c('span',{staticClass:\"icon-settings\"}),_c('div',{staticClass:\"settings-text\"},[_vm._v(_vm._s(_vm.$t('speak.settings')))])]),_c('span',{staticClass:\"icon-play_backward\",class:{ 'not-use': _vm.currentSectionIndex <= 1 },on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.prev.apply(null, arguments)}}}),_c('div',{staticClass:\"icon-play-wrapper\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.togglePlay.apply(null, arguments)}}},[(!_vm.isPlaying)?_c('span',{staticClass:\"icon-play_go\"}):_c('span',{staticClass:\"icon-play_pause\"})]),_c('span',{staticClass:\"icon-play_forward\",class:{ 'not-use': _vm.currentSectionIndex >= _vm.currentSectionTotal },on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.next.apply(null, arguments)}}}),_c('div',{staticClass:\"icon-clock-wrapper\"},[_c('span',{staticClass:\"icon-clock\"}),_c('div',{staticClass:\"clock-text\"},[_vm._v(_vm._s(_vm.$t('speak.timing')))])])]),_c('div',{staticClass:\"read-apply-wrapper\"},[_vm._v(\" \"+_vm._s(_vm.$t('speak.apply'))+\" \")]),_c('div',{staticClass:\"read-title-wrapper\"},[_c('span',{staticClass:\"line\"}),_c('div',{staticClass:\"read-title-text\"},[_vm._v(_vm._s(_vm.$t('speak.current')))]),_c('span',{staticClass:\"line\"})]),_c('div',{ref:\"bookWrapper\",staticClass:\"book-wrapper\"},[_c('div',{attrs:{\"id\":\"book-read\"}})])])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <transition name=\"fade\">\r\n    <div\r\n      class=\"book-speak-mask-wrapper\"\r\n      @click.stop.prevent=\"hide\"\r\n      v-show=\"visible\"\r\n    >\r\n      <transition name=\"popup-slide-up\">\r\n        <div\r\n          class=\"book-speak-mask-card-wrapper\"\r\n          v-show=\"speakCardVisible\"\r\n          @click.stop.prevent=\"hide\"\r\n        >\r\n          <div class=\"pulldown-icon-wrapper\" @click=\"hide\">\r\n            <span class=\"icon-pull_down\"></span>\r\n          </div>\r\n          <div class=\"card-title-wrapper\">\r\n            <div class=\"icon-speak-wrapper\">\r\n              <span class=\"icon-speak\"></span>\r\n            </div>\r\n            <div class=\"speak-title-wrapper\">\r\n              <span class=\"speak-title\">{{ $t('speak.voice') }}</span>\r\n            </div>\r\n            <div class=\"read-fulltext-wrapper\">\r\n              <span class=\"read-fulltext\">{{ $t('speak.read') }}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"card-section-title-wrapper\">\r\n            <div class=\"card-section-title-text\">{{ title }}</div>\r\n            <div class=\"card-section-sub-title-text\" v-if=\"currentSectionIndex\">\r\n              {{ currentSectionIndex }} /\r\n              {{ currentSectionTotal }}\r\n            </div>\r\n          </div>\r\n          <div class=\"setting-progress\">\r\n            <div class=\"progress-wrapper\">\r\n              <input\r\n                class=\"progress\"\r\n                type=\"range\"\r\n                max=\"100\"\r\n                min=\"0\"\r\n                step=\"1\"\r\n                @change=\"onProgressChange($event.target.value)\"\r\n                @input=\"onProgressInput($event.target.value)\"\r\n                :value=\"progress\"\r\n                ref=\"progress\"\r\n              />\r\n            </div>\r\n            <div class=\"progress-text\">\r\n              <div class=\"progress-text-current\">\r\n                {{ playInfo ? playInfo.currentMinute : '00' }}:{{\r\n                  playInfo ? playInfo.currentSecond : '00'\r\n                }}\r\n              </div>\r\n              <div class=\"progress-text-left\">\r\n                -{{ playInfo ? playInfo.leftMinute : '00' }}:{{\r\n                  playInfo ? playInfo.leftSecond : '00'\r\n                }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"playing-wrapper\">\r\n            <div class=\"icon-settings-wrapper\">\r\n              <span class=\"icon-settings\"></span>\r\n              <div class=\"settings-text\">{{ $t('speak.settings') }}</div>\r\n            </div>\r\n            <span\r\n              class=\"icon-play_backward\"\r\n              :class=\"{ 'not-use': currentSectionIndex <= 1 }\"\r\n              @click.stop.prevent=\"prev\"\r\n            ></span>\r\n            <div class=\"icon-play-wrapper\" @click.stop.prevent=\"togglePlay\">\r\n              <span class=\"icon-play_go\" v-if=\"!isPlaying\"></span>\r\n              <span class=\"icon-play_pause\" v-else></span>\r\n            </div>\r\n            <span\r\n              class=\"icon-play_forward\"\r\n              :class=\"{ 'not-use': currentSectionIndex >= currentSectionTotal }\"\r\n              @click.stop.prevent=\"next\"\r\n            ></span>\r\n            <div class=\"icon-clock-wrapper\">\r\n              <span class=\"icon-clock\"></span>\r\n              <div class=\"clock-text\">{{ $t('speak.timing') }}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"read-apply-wrapper\">\r\n            {{ $t('speak.apply') }}\r\n          </div>\r\n          <div class=\"read-title-wrapper\">\r\n            <span class=\"line\"></span>\r\n            <div class=\"read-title-text\">{{ $t('speak.current') }}</div>\r\n            <span class=\"line\"></span>\r\n          </div>\r\n          <div class=\"book-wrapper\" ref=\"bookWrapper\">\r\n            <div id=\"book-read\"></div>\r\n          </div>\r\n        </div>\r\n      </transition>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport { realPx } from '@/utils/utils'\r\n\r\nexport default {\r\n  props: {\r\n    title: String,\r\n    book: Object,\r\n    section: Object,\r\n    currentSectionIndex: Number,\r\n    currentSectionTotal: Number,\r\n    isPlaying: Boolean,\r\n    playInfo: Object\r\n  },\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      speakCardVisible: false,\r\n      progress: 0,\r\n      readHeight: 0\r\n    }\r\n  },\r\n  methods: {\r\n    refreshProgress(p) {\r\n      this.progress = p\r\n      this.$refs.progress.style.backgroundSize = `${this.progress}% 100%`\r\n    },\r\n    updateText(promise) {\r\n      promise.then(() => {\r\n        const currentPage = this.rendition.currentLocation()\r\n        const cfibase = this.section.cfiBase\r\n        const cfistart = currentPage.start.cfi\r\n          .replace(/.*!/, '')\r\n          .replace(/\\)/, '')\r\n        const cfiend = currentPage.end.cfi.replace(/.*!/, '').replace(/\\)/, '')\r\n        this.book\r\n          .getRange(`epubcfi(${cfibase}!,${cfistart},${cfiend})`)\r\n          .then((range) => {\r\n            let text = range.toString()\r\n            text = text.replace(/\\s(2,)/g, '')\r\n            text = text.replace(/\\r/g, '')\r\n            text = text.replace(/\\n/g, '')\r\n            text = text.replace(/\\t/g, '')\r\n            text = text.replace(/\\f/g, '')\r\n            this.$emit('updateText', text)\r\n          })\r\n      })\r\n    },\r\n    togglePlay() {\r\n      this.$parent.togglePlay()\r\n    },\r\n    prev() {\r\n      if (this.currentSectionIndex > 1) {\r\n        this.updateText(this.rendition.prev())\r\n        this.$emit('update:currentSectionIndex', this.currentSectionIndex - 1)\r\n        this.$parent.resetPlay()\r\n        setTimeout(() => {\r\n          this.$parent.togglePlay()\r\n        }, 500)\r\n      }\r\n    },\r\n    next() {\r\n      if (this.currentSectionIndex < this.currentSectionTotal) {\r\n        this.updateText(this.rendition.next())\r\n        this.$emit('update:currentSectionIndex', this.currentSectionIndex + 1)\r\n        this.$parent.resetPlay()\r\n        setTimeout(() => {\r\n          this.$parent.togglePlay()\r\n        }, 500)\r\n      }\r\n    },\r\n    display() {\r\n      if (!this.rendition) {\r\n        this.rendition = this.book.renderTo('book-read', {\r\n          width: window.innerWidth > 640 ? 640 : window.innerWidth,\r\n          height: this.readHeight,\r\n          method: 'default'\r\n        })\r\n        this.displayed = this.rendition.display(this.section.href)\r\n      } else {\r\n        this.displayed = this.rendition.display(this.section.href)\r\n      }\r\n    },\r\n    onProgressChange(progress) {},\r\n    onProgressInput(progress) {\r\n      this.progress = progress\r\n      this.$refs.progress.style.backgroundSize = `${this.progress}% 100%`\r\n    },\r\n    hide() {\r\n      this.speakCardVisible = false\r\n      this.visible = false\r\n    },\r\n    show() {\r\n      this.visible = true\r\n      this.speakCardVisible = true\r\n      this.refresh()\r\n      this.$nextTick(() => {\r\n        this.display()\r\n      })\r\n    },\r\n    refresh() {\r\n      this.readHeight =\r\n        window.innerHeight * 0.9 -\r\n        realPx(40) -\r\n        realPx(54) -\r\n        realPx(46) -\r\n        realPx(48) -\r\n        realPx(60) -\r\n        realPx(44)\r\n      // console.log(this.readHeight)\r\n      this.$refs.bookWrapper.style.height = this.readHeight + 'px'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\r\n@import '../../assets/styles/global';\r\n\r\n.book-speak-mask-wrapper {\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  z-index: 120;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  .book-speak-mask-card-wrapper {\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    z-index: 120;\r\n    width: 100%;\r\n    height: 90%;\r\n    background: white;\r\n    border-radius: px2rem(10) px2rem(10) 0 0;\r\n    .pulldown-icon-wrapper {\r\n      width: 100%;\r\n      height: px2rem(40);\r\n      color: #ccc;\r\n      font-size: px2rem(40);\r\n      @include center;\r\n    }\r\n    .card-title-wrapper {\r\n      width: 100%;\r\n      height: px2rem(54);\r\n      display: flex;\r\n      padding: 0 px2rem(15);\r\n      box-sizing: border-box;\r\n      .icon-speak-wrapper {\r\n        flex: 0 0 px2rem(40);\r\n        @include left;\r\n        .icon-speak {\r\n          font-size: px2rem(24);\r\n          color: #999;\r\n        }\r\n      }\r\n      .speak-title-wrapper {\r\n        flex: 1;\r\n        @include left;\r\n        .speak-title {\r\n          font-size: px2rem(16);\r\n          font-weight: bold;\r\n          color: #666;\r\n        }\r\n      }\r\n      .read-fulltext-wrapper {\r\n        flex: 1;\r\n        @include right;\r\n        .read-fulltext {\r\n          font-size: px2rem(12);\r\n          font-weight: bold;\r\n          color: $color-blue;\r\n          background: rgba(74, 171, 255, 0.2);\r\n          padding: px2rem(5) px2rem(10);\r\n          box-sizing: border-box;\r\n          border-radius: px2rem(20);\r\n        }\r\n      }\r\n    }\r\n    .card-section-title-wrapper {\r\n      width: 100%;\r\n      height: px2rem(46);\r\n      padding: 0 px2rem(15);\r\n      box-sizing: border-box;\r\n      @include columnCenter;\r\n      .card-section-title-text {\r\n        font-size: px2rem(16);\r\n        color: #333;\r\n        font-weight: bold;\r\n      }\r\n      .card-section-sub-title-text {\r\n        font-size: px2rem(12);\r\n        color: #666;\r\n        margin-top: px2rem(5);\r\n      }\r\n    }\r\n    .setting-progress {\r\n      width: 100%;\r\n      height: px2rem(48);\r\n      @include columnTop;\r\n      .progress-wrapper {\r\n        flex: 1;\r\n        width: 100%;\r\n        @include center;\r\n        padding: 0 px2rem(30);\r\n        box-sizing: border-box;\r\n        .progress {\r\n          width: 100%;\r\n          -webkit-appearance: none;\r\n          height: px2rem(2);\r\n          background: -webkit-linear-gradient($color-blue, $color-blue)\r\n              no-repeat,\r\n            rgba(74, 171, 255, 0.2);\r\n          background-size: 0 100%;\r\n          &:focus {\r\n            outline: none;\r\n          }\r\n          &::-webkit-slider-thumb {\r\n            -webkit-appearance: none;\r\n            height: px2rem(20);\r\n            width: px2rem(20);\r\n            border-radius: 50%;\r\n            background: $color-blue;\r\n            border: none;\r\n            box-shadow: 0 4px 4px 0 rgba(0, 0, 0, 0.15);\r\n          }\r\n        }\r\n      }\r\n      .progress-text {\r\n        display: flex;\r\n        width: 100%;\r\n        padding: 0 px2rem(30);\r\n        box-sizing: border-box;\r\n        .progress-text-current {\r\n          flex: 1;\r\n          text-align: left;\r\n          font-size: px2rem(10);\r\n          color: #666;\r\n        }\r\n        .progress-text-left {\r\n          flex: 1;\r\n          text-align: right;\r\n          font-size: px2rem(10);\r\n          color: #666;\r\n        }\r\n      }\r\n    }\r\n    .playing-wrapper {\r\n      width: 100%;\r\n      height: px2rem(60);\r\n      @include center;\r\n      .icon-settings-wrapper {\r\n        flex: 1;\r\n        @include columnCenter;\r\n        .icon-settings {\r\n          font-size: px2rem(18);\r\n          color: #666;\r\n        }\r\n        .settings-text {\r\n          margin-top: px2rem(5);\r\n          font-size: px2rem(10);\r\n          color: #666;\r\n        }\r\n      }\r\n      .icon-play_backward {\r\n        font-size: px2rem(30);\r\n        color: $color-blue;\r\n        &:active {\r\n          opacity: 0.5;\r\n        }\r\n        &.not-use {\r\n          color: $color-blue-transparent;\r\n        }\r\n      }\r\n      .icon-play-wrapper {\r\n        flex: 0 0 px2rem(100);\r\n        @include center;\r\n        &:active {\r\n          opacity: 0.5;\r\n        }\r\n        .icon-play_go {\r\n          font-size: px2rem(50);\r\n          color: $color-blue;\r\n        }\r\n        .icon-play_pause {\r\n          font-size: px2rem(50);\r\n          color: $color-blue;\r\n        }\r\n      }\r\n      .icon-play_forward {\r\n        font-size: px2rem(30);\r\n        color: $color-blue;\r\n        &:active {\r\n          opacity: 0.5;\r\n        }\r\n        &.not-use {\r\n          color: $color-blue-transparent;\r\n        }\r\n      }\r\n      .icon-clock-wrapper {\r\n        flex: 1;\r\n        @include columnCenter;\r\n        .icon-clock2 {\r\n          font-size: px2rem(18);\r\n          color: #666;\r\n        }\r\n        .clock-text {\r\n          margin-top: px2rem(5);\r\n          font-size: px2rem(10);\r\n          color: #666;\r\n        }\r\n      }\r\n    }\r\n    .read-apply-wrapper {\r\n      width: 100%;\r\n      height: px2rem(20);\r\n      font-size: px2rem(10);\r\n      color: $color-green;\r\n      @include center;\r\n    }\r\n    .read-title-wrapper {\r\n      width: 100%;\r\n      height: px2rem(24);\r\n      box-sizing: border-box;\r\n      @include center;\r\n      .line {\r\n        flex: 1;\r\n        border-top: px2rem(1) solid #eee;\r\n        height: 0;\r\n      }\r\n      .read-title-text {\r\n        flex: 0 0 px2rem(130);\r\n        font-size: px2rem(14);\r\n        color: #666;\r\n        text-align: center;\r\n      }\r\n    }\r\n    .book-wrapper {\r\n      #read {\r\n        width: 100%;\r\n        height: 100%;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakMask.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakMask.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SpeakMask.vue?vue&type=template&id=968de5a8&scoped=true&\"\nimport script from \"./SpeakMask.vue?vue&type=script&lang=js&\"\nexport * from \"./SpeakMask.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SpeakMask.vue?vue&type=style&index=0&id=968de5a8&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"968de5a8\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakMask.vue?vue&type=style&index=0&id=968de5a8&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookInfo.vue?vue&type=style&index=0&id=6d62251c&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"","<template>\r\n  <div class=\"book-speaking\">\r\n    <detail-title @back=\"back\" ref=\"title\"></detail-title>\r\n    <scroll\r\n      class=\"content-wrapper\"\r\n      :top=\"42\"\r\n      :bottom=\"scrollBottom\"\r\n      :ifNoScroll=\"disableScroll\"\r\n      @onScroll=\"onScroll\"\r\n      ref=\"scroll\"\r\n    >\r\n      <book-info\r\n        :cover=\"cover\"\r\n        :title=\"title\"\r\n        :author=\"author\"\r\n        :desc=\"desc\"\r\n      ></book-info>\r\n      <div class=\"book-speak-title-wrapper\">\r\n        <div class=\"icon-speak-wrapper\">\r\n          <span class=\"icon-speak\"></span>\r\n        </div>\r\n        <div class=\"speak-title-wrapper\">\r\n          <span class=\"speak-title\">{{ $t('speak.voice') }}</span>\r\n        </div>\r\n        <div class=\"icon-down-wrapper\" @click=\"toggleContent\">\r\n          <span\r\n            :class=\"{ 'icon-down2': !ifShowContent, 'icon-up': ifShowContent }\"\r\n          ></span>\r\n        </div>\r\n      </div>\r\n      <div class=\"book-detail-content-wrapper\" v-show=\"ifShowContent\">\r\n        <div class=\"book-detail-content-list-wrapper\">\r\n          <div class=\"loading-text-wrapper\" v-if=\"!this.navigation\">\r\n            <span class=\"loading-text\">{{ $t('detail.loading') }}</span>\r\n          </div>\r\n          <div class=\"book-detail-content-item-wrapper\">\r\n            <div\r\n              class=\"book-detail-content-item\"\r\n              v-for=\"(item, index) in flatNavigation\"\r\n              :key=\"index\"\r\n              @click=\"speak(item, index)\"\r\n            >\r\n              <speak-playing\r\n                v-if=\"playingIndex === index\"\r\n                :number=\"5\"\r\n                ref=\"speakPlaying\"\r\n              ></speak-playing>\r\n              <div\r\n                class=\"book-detail-content-navigation-text\"\r\n                :class=\"{ 'is-playing': playingIndex === index }\"\r\n                v-if=\"item.label\"\r\n              >\r\n                {{ item.label }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <audio\r\n        @canplay=\"onCanPlay\"\r\n        @timeupdate=\"onTimeUpdate\"\r\n        @ended=\"onAudioEnded\"\r\n        ref=\"audio\"\r\n      ></audio>\r\n    </scroll>\r\n    <bottom\r\n      :chapter=\"chapter\"\r\n      :currentSectionIndex=\"currentSectionIndex\"\r\n      :currentSectionTotal=\"currentSectionTotal\"\r\n      :showPlay=\"showPlay\"\r\n      :isPlaying.sync=\"isPlaying\"\r\n      :playInfo=\"playInfo\"\r\n      @onPlayingCardClick=\"onPlayingCardClick\"\r\n    ></bottom>\r\n    <div class=\"book-wrapper\">\r\n      <div id=\"read\"></div>\r\n    </div>\r\n    <speak-window\r\n      :title=\"this.chapter ? this.chapter.label : ''\"\r\n      :book=\"book\"\r\n      :section=\"section\"\r\n      :currentSectionIndex.sync=\"currentSectionIndex\"\r\n      :currentSectionTotal=\"currentSectionTotal\"\r\n      :isPlaying.sync=\"isPlaying\"\r\n      :playInfo=\"playInfo\"\r\n      @updateText=\"updateText\"\r\n      ref=\"speakWindow\"\r\n    ></speak-window>\r\n    <toast :text=\"toastText\" ref=\"toast\"></toast>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nimport DetailTitle from '@/components/detail/DetailTitle'\r\nimport BookInfo from '@/components/detail/BookInfo'\r\nimport Scroll from '@/components/Scroll'\r\nimport SpeakPlaying from '@/components/speak/SpeakPlaying'\r\nimport Bottom from '@/components/speak/SpeakBottom'\r\nimport SpeakWindow from '@/components/speak/SpeakMask'\r\nimport Toast from '@/components/shelf/Toast'\r\nimport { findBook, getCategoryName } from '@/utils/book'\r\nimport { download, flatList } from '@/api'\r\nimport { getLocalForage } from '@/utils/localForage'\r\nimport { realPx } from '@/utils/utils'\r\nimport Epub from 'epubjs'\r\n\r\nglobal.ePub = Epub\r\n\r\nexport default {\r\n  components: {\r\n    DetailTitle,\r\n    BookInfo,\r\n    Scroll,\r\n    SpeakPlaying,\r\n    Bottom,\r\n    SpeakWindow,\r\n    Toast\r\n  },\r\n  computed: {\r\n    currentMinute() {\r\n      const m = Math.floor(this.currentPlayingTime / 60)\r\n      return m < 10 ? '0' + m : m\r\n    },\r\n    currentSecond() {\r\n      const s = Math.floor(\r\n        this.currentPlayingTime - parseInt(this.currentMinute) * 60\r\n      )\r\n      return s < 10 ? '0' + s : s\r\n    },\r\n    totalMinute() {\r\n      const m = Math.floor(this.totalPlayingTime / 60)\r\n      return m < 10 ? '0' + m : m\r\n    },\r\n    totalSecond() {\r\n      const s = Math.floor(\r\n        this.totalPlayingTime - parseInt(this.totalMinute) * 60\r\n      )\r\n      return s < 10 ? '0' + s : s\r\n    },\r\n    leftMinute() {\r\n      const m = Math.floor(\r\n        (this.totalPlayingTime - this.currentPlayingTime) / 60\r\n      )\r\n      return m < 10 ? '0' + m : m\r\n    },\r\n    leftSecond() {\r\n      const s = Math.floor(\r\n        this.totalPlayingTime -\r\n          this.currentPlayingTime -\r\n          parseInt(this.leftMinute) * 60\r\n      )\r\n      return s < 10 ? '0' + s : s\r\n    },\r\n    playInfo() {\r\n      if (this.audioCanPlay) {\r\n        return {\r\n          currentMinute: this.currentMinute,\r\n          currentSecond: this.currentSecond,\r\n          totalMinute: this.totalMinute,\r\n          totalSecond: this.totalSecond,\r\n          leftMinute: this.leftMinute,\r\n          leftSecond: this.leftSecond\r\n        }\r\n      } else {\r\n        return null\r\n      }\r\n    },\r\n    lang() {\r\n      return this.metadata ? this.metadata.language : ''\r\n    },\r\n    disableScroll() {\r\n      if (this.$refs.speakWindow) {\r\n        return this.$refs.speakWindow.visible\r\n      } else {\r\n        return false\r\n      }\r\n    },\r\n    showPlay() {\r\n      return this.playingIndex >= 0\r\n    },\r\n    scrollBottom() {\r\n      return this.showPlay ? 116 : 52\r\n    },\r\n    chapter() {\r\n      return this.flatNavigation[this.playingIndex]\r\n    },\r\n    desc() {\r\n      if (this.description) {\r\n        return this.description.substring(0, 100)\r\n      } else {\r\n        return ''\r\n      }\r\n    },\r\n    flatNavigation() {\r\n      if (this.navigation) {\r\n        return Array.prototype.concat.apply(\r\n          [],\r\n          Array.prototype.concat.apply(\r\n            [],\r\n            this.doFlatNavigation(this.navigation.toc)\r\n          )\r\n        )\r\n      } else {\r\n        return []\r\n      }\r\n    },\r\n    category() {\r\n      return this.bookItem ? getCategoryName(this.bookItem.category) : ''\r\n    },\r\n    title() {\r\n      return this.metadata ? this.metadata.title : ''\r\n    },\r\n    author() {\r\n      return this.metadata ? this.metadata.creator : ''\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      bookItem: null,\r\n      book: null,\r\n      rendition: null,\r\n      metadata: null,\r\n      cover: null,\r\n      navigation: null,\r\n      description: null,\r\n      ifShowContent: true,\r\n      playingIndex: -1,\r\n      paragraph: null,\r\n      currentSectionIndex: null,\r\n      currentSectionTotal: null,\r\n      section: null,\r\n      isPlaying: false,\r\n      audio: null,\r\n      audioCanPlay: false,\r\n      currentPlayingTime: 0,\r\n      totalPlayingTime: 0,\r\n      playStatus: 0, // 0 - 未播放，1 - 播放中，2 - 暂停中\r\n      toastText: '',\r\n      isOnline: false\r\n    }\r\n  },\r\n  methods: {\r\n    onAudioEnded() {\r\n      this.resetPlay()\r\n      this.currentPlayingTime = this.$refs.audio.currentTime\r\n      const percent = Math.floor(\r\n        (this.currentPlayingTime / this.totalPlayingTime) * 100\r\n      )\r\n      this.$refs.speakWindow.refreshProgress(percent)\r\n    },\r\n    onTimeUpdate() {\r\n      this.currentPlayingTime = this.$refs.audio.currentTime\r\n      const percent = Math.floor(\r\n        (this.currentPlayingTime / this.totalPlayingTime) * 100\r\n      )\r\n      this.$refs.speakWindow.refreshProgress(percent)\r\n    },\r\n    onCanPlay() {\r\n      this.audioCanPlay = true\r\n      this.currentPlayingTime = this.$refs.audio.currentTime\r\n      this.totalPlayingTime = this.$refs.audio.duration\r\n    },\r\n    findBookFromList(fileName) {\r\n      flatList().then((response) => {\r\n        if (response.status === 200) {\r\n          const bookList = response.data.data.filter(\r\n            (item) => item.fileName === fileName\r\n          )\r\n          if (bookList && bookList.length > 0) {\r\n            this.bookItem = bookList[0]\r\n            this.init()\r\n          }\r\n        }\r\n      })\r\n    },\r\n    init() {\r\n      const fileName = this.$route.query.fileName\r\n      if (!this.bookItem) {\r\n        this.bookItem = findBook(fileName)\r\n      }\r\n      if (this.bookItem) {\r\n        getLocalForage(fileName, (err, blob) => {\r\n          if (err || !blob) {\r\n            // this.downloadBook(fileName)\r\n            this.isOnline = true\r\n            const opf = this.$route.query.opf\r\n            if (opf) {\r\n              this.parseBook(opf)\r\n            }\r\n          } else {\r\n            this.isOnline = false\r\n            this.parseBook(blob)\r\n          }\r\n        })\r\n      } else {\r\n        this.findBookFromList(fileName)\r\n      }\r\n    },\r\n    downloadBook(fileName) {\r\n      download(this.bookItem, () => {\r\n        getLocalForage(fileName, (err, blob) => {\r\n          if (err) {\r\n            return\r\n          }\r\n          this.parseBook(blob)\r\n        })\r\n      })\r\n    },\r\n    parseBook(blob) {\r\n      this.book = new Epub(blob)\r\n      this.book.loaded.metadata.then((metadata) => {\r\n        this.metadata = metadata\r\n      })\r\n      if (this.isOnline) {\r\n        this.book.coverUrl().then((url) => {\r\n          this.cover = url\r\n        })\r\n      } else {\r\n        this.book.loaded.cover.then((cover) => {\r\n          this.book.archive.createUrl(cover).then((url) => {\r\n            this.cover = url\r\n          })\r\n        })\r\n      }\r\n      this.book.loaded.navigation.then((nav) => {\r\n        this.navigation = nav\r\n      })\r\n      this.display()\r\n    },\r\n    back() {\r\n      this.$router.go(-1)\r\n    },\r\n    onScroll(offsetY) {\r\n      if (offsetY > realPx(42)) {\r\n        this.$refs.title.showShadow()\r\n      } else {\r\n        this.$refs.title.hideShadow()\r\n      }\r\n    },\r\n    toggleContent() {\r\n      this.ifShowContent = !this.ifShowContent\r\n    },\r\n    display() {\r\n      const height =\r\n        window.innerHeight * 0.9 -\r\n        realPx(40) -\r\n        realPx(54) -\r\n        realPx(46) -\r\n        realPx(48) -\r\n        realPx(60) -\r\n        realPx(44)\r\n      this.rendition = this.book.renderTo('read', {\r\n        width: window.innerWidth,\r\n        height: height,\r\n        method: 'default'\r\n      })\r\n      this.rendition.display()\r\n    },\r\n    doFlatNavigation(content, deep = 1) {\r\n      const arr = []\r\n      content.forEach((item) => {\r\n        item.deep = deep\r\n        arr.push(item)\r\n        if (item.subitems && item.subitems.length > 0) {\r\n          arr.push(this.doFlatNavigation(item.subitems, deep + 1))\r\n        }\r\n      })\r\n      return arr\r\n    },\r\n    speak(item, index) {\r\n      this.resetPlay()\r\n      this.playingIndex = index\r\n      this.$nextTick(() => {\r\n        this.$refs.scroll.refresh()\r\n      })\r\n      if (this.chapter) {\r\n        this.section = this.book.spine.get(this.chapter.href)\r\n        this.rendition.display(this.section.href).then((section) => {\r\n          const currentPage = this.rendition.currentLocation()\r\n          const cfibase = section.cfiBase\r\n          const cfistart = currentPage.start.cfi\r\n            .replace(/.*!/, '')\r\n            .replace(/\\)/, '')\r\n          const cfiend = currentPage.end.cfi\r\n            .replace(/.*!/, '')\r\n            .replace(/\\)/, '')\r\n          this.currentSectionIndex = currentPage.start.displayed.page\r\n          this.currentSectionTotal = currentPage.start.displayed.total\r\n          const cfi = `epubcfi(${cfibase}!,${cfistart},${cfiend})`\r\n          // console.log(currentPage, cfi, cfibase, cfistart, cfiend)\r\n          this.book.getRange(cfi).then((range) => {\r\n            let text = range.toLocaleString()\r\n            text = text.replace(/\\s(2,)/g, '')\r\n            text = text.replace(/\\r/g, '')\r\n            text = text.replace(/\\n/g, '')\r\n            text = text.replace(/\\t/g, '')\r\n            text = text.replace(/\\f/g, '')\r\n            this.updateText(text)\r\n          })\r\n        })\r\n      }\r\n    },\r\n    showToast(text) {\r\n      this.toastText = text\r\n      this.$refs.toast.show()\r\n    },\r\n    togglePlay() {\r\n      if (!this.isPlaying) {\r\n        if (this.playStatus === 0) {\r\n          this.play()\r\n        } else if (this.playStatus === 2) {\r\n          this.continuePlay()\r\n        }\r\n      } else {\r\n        this.pausePlay()\r\n      }\r\n    },\r\n    resetPlay() {\r\n      if (this.playStatus === 1) {\r\n        this.pausePlay()\r\n      }\r\n      this.isPlaying = false\r\n      this.playStatus = 0\r\n    },\r\n    play() {\r\n      this.createVoice(this.paragraph)\r\n    },\r\n    continuePlay() {\r\n      this.$refs.audio.play().then(() => {\r\n        this.$refs.speakPlaying[0].startAnimation()\r\n        this.isPlaying = true\r\n        this.playStatus = 1\r\n      })\r\n    },\r\n    pausePlay() {\r\n      this.$refs.audio.pause()\r\n      this.$refs.speakPlaying[0].stopAnimation()\r\n      this.isPlaying = false\r\n      this.playStatus = 2\r\n    },\r\n    onPlayingCardClick() {\r\n      this.$refs.speakWindow.show()\r\n    },\r\n    updateText(text) {\r\n      this.paragraph = text\r\n    },\r\n    createVoice(text) {\r\n      const xmlhttp = new XMLHttpRequest()\r\n      xmlhttp.open(\r\n        'GET',\r\n        `${\r\n          process.env.VUE_APP_VOICE_URL\r\n        }/voice?text=${text}&lang=${this.lang.toLowerCase()}`,\r\n        false\r\n      )\r\n      xmlhttp.send()\r\n      const xmlDoc = xmlhttp.responseText\r\n      if (xmlDoc) {\r\n        const json = JSON.parse(xmlDoc)\r\n        if (json.path) {\r\n          this.$refs.audio.src = json.path\r\n          this.continuePlay()\r\n        } else {\r\n          this.showToast('播放失败，未生成链接')\r\n        }\r\n      } else {\r\n        this.showToast('播放失败')\r\n      }\r\n      /*axios.create({\r\n          baseURL: process.env.VUE_APP_VOICE_URL + '/voice'\r\n        })({\r\n          method: 'get',\r\n          params: {\r\n            text: text,\r\n            lang: this.lang.toLowerCase()\r\n          }\r\n        }).then(response => {\r\n          if (response.status === 200) {\r\n            if (response.data.error === 0) {\r\n              const downloadUrl = response.data.path\r\n              console.log('开始下载...%s', downloadUrl)\r\n              downloadMp3(downloadUrl, blob => {\r\n                const url = window.URL.createObjectURL(blob)\r\n                console.log(blob, url)\r\n                this.$refs.audio.src = url\r\n                this.continuePlay()\r\n              })\r\n            } else {\r\n              this.showToast(response.data.msg)\r\n            }\r\n          } else {\r\n            this.showToast('请求失败')\r\n          }\r\n        }).catch(err => {\r\n          console.log(err)\r\n          this.showToast('播放失败')\r\n        })*/\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\r\n@import '../../assets/styles/global';\r\n\r\n.book-speaking {\r\n  font-size: px2rem(16);\r\n  width: 100%;\r\n  background: white;\r\n  .content-wrapper {\r\n    width: 100%;\r\n    .book-speak-title-wrapper {\r\n      display: flex;\r\n      padding: px2rem(15);\r\n      box-sizing: border-box;\r\n      border-bottom: px2rem(1) solid #eee;\r\n      .icon-speak-wrapper {\r\n        flex: 0 0 px2rem(40);\r\n        @include left;\r\n        .icon-speak {\r\n          font-size: px2rem(24);\r\n          color: #999;\r\n        }\r\n      }\r\n      .speak-title-wrapper {\r\n        flex: 1;\r\n        @include left;\r\n        .speak-title {\r\n          font-size: px2rem(16);\r\n          font-weight: bold;\r\n          color: #666;\r\n        }\r\n      }\r\n      .icon-down-wrapper {\r\n        flex: 0 0 px2rem(40);\r\n        @include right;\r\n        .icon-up {\r\n          font-size: px2rem(12);\r\n          color: #999;\r\n        }\r\n        .icon-down2 {\r\n          font-size: px2rem(12);\r\n          color: #999;\r\n        }\r\n      }\r\n    }\r\n    .book-detail-content-wrapper {\r\n      width: 100%;\r\n      border-bottom: px2rem(1) solid #eee;\r\n      box-sizing: border-box;\r\n      .book-detail-content-list-wrapper {\r\n        padding: px2rem(10) px2rem(15);\r\n        .loading-text-wrapper {\r\n          width: 100%;\r\n          .loading-text {\r\n            font-size: px2rem(14);\r\n            color: #999;\r\n          }\r\n        }\r\n        .book-detail-content-item-wrapper {\r\n          .book-detail-content-item {\r\n            display: flex;\r\n            padding: px2rem(15) 0;\r\n            font-size: px2rem(14);\r\n            line-height: px2rem(16);\r\n            color: #333;\r\n            border-bottom: px2rem(1) solid #eee;\r\n            &:last-child {\r\n              border-bottom: none;\r\n            }\r\n            .book-detail-content-navigation-text {\r\n              flex: 1;\r\n              width: 100%;\r\n              @include ellipsis;\r\n              &.is-playing {\r\n                color: $color-blue;\r\n                font-weight: bold;\r\n                margin-left: px2rem(10);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .book-wrapper {\r\n    position: absolute;\r\n    bottom: -100%;\r\n    z-index: 100;\r\n  }\r\n}\r\n</style>\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailTitle.vue?vue&type=style&index=0&id=4801840a&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cover-title-wrapper\"},[_c('div',{staticClass:\"cover-title-left-wrapper\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.cover),expression:\"cover\"}],staticClass:\"cover-img\"})]),_c('div',{staticClass:\"cover-title-right-wrapper\"},[_c('div',{staticClass:\"detail-cover-title-wrapper\"},[_c('div',{staticClass:\"cover-title-text\"},[_vm._v(_vm._s(_vm.title))])]),_c('div',{staticClass:\"cover-author-wrapper\"},[_c('div',{staticClass:\"cover-author-text\"},[_vm._v(_vm._s(_vm.author))])]),_c('div',{staticClass:\"detail-cover-description-wrapper\"},[_c('div',{staticClass:\"detail-cover-description-text\"},[_vm._v(_vm._s(_vm.desc))])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"cover-title-wrapper\">\r\n    <div class=\"cover-title-left-wrapper\">\r\n      <img class=\"cover-img\" v-lazy=\"cover\" />\r\n    </div>\r\n    <div class=\"cover-title-right-wrapper\">\r\n      <div class=\"detail-cover-title-wrapper\">\r\n        <div class=\"cover-title-text\">{{ title }}</div>\r\n      </div>\r\n      <div class=\"cover-author-wrapper\">\r\n        <div class=\"cover-author-text\">{{ author }}</div>\r\n      </div>\r\n      <div class=\"detail-cover-description-wrapper\">\r\n        <div class=\"detail-cover-description-text\">{{ desc }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nexport default {\r\n  props: {\r\n    cover: String,\r\n    title: String,\r\n    author: String,\r\n    desc: String\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\r\n@import '../../assets/styles/global';\r\n.cover-title-wrapper {\r\n  display: flex;\r\n  width: 100%;\r\n  padding: px2rem(10) 0;\r\n  border-bottom: px2rem(1) solid #eee;\r\n  box-sizing: border-box;\r\n  .cover-title-left-wrapper {\r\n    flex: 0 0 px2rem(103);\r\n    padding: px2rem(10) 0 px2rem(10) px2rem(15);\r\n    box-sizing: border-box;\r\n    @include top;\r\n    .cover-img {\r\n      width: px2rem(103);\r\n      height: px2rem(146);\r\n    }\r\n  }\r\n  .cover-title-right-wrapper {\r\n    flex: 1;\r\n    padding: px2rem(10) px2rem(15);\r\n    box-sizing: border-box;\r\n    .detail-cover-title-wrapper {\r\n      .cover-title-text {\r\n        font-size: px2rem(24);\r\n        line-height: px2rem(26);\r\n        font-weight: bold;\r\n        color: #333;\r\n      }\r\n    }\r\n    .cover-author-wrapper {\r\n      margin-top: px2rem(10);\r\n      .cover-author-text {\r\n        font-size: px2rem(14);\r\n        line-height: px2rem(16);\r\n        color: $color-blue;\r\n      }\r\n    }\r\n    .detail-cover-description-wrapper {\r\n      margin-top: px2rem(10);\r\n      .detail-cover-description-text {\r\n        font-size: px2rem(14);\r\n        line-height: px2rem(16);\r\n        color: #666;\r\n        word-break: keep-all;\r\n        white-space: normal;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        overflow-wrap: break-word;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BookInfo.vue?vue&type=template&id=6d62251c&scoped=true&\"\nimport script from \"./BookInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./BookInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BookInfo.vue?vue&type=style&index=0&id=6d62251c&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d62251c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"playing-item-wrapper\"},_vm._l((_vm.styles),function(item,index){return _c('div',{key:index,ref:\"playingItem\",refInFor:true,staticClass:\"playing-item\",style:(item)})}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"playing-item-wrapper\">\r\n    <div\r\n      class=\"playing-item\"\r\n      :style=\"item\"\r\n      v-for=\"(item, index) in styles\"\r\n      :key=\"index\"\r\n      ref=\"playingItem\"\r\n    ></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { px2rem } from '@/utils/utils'\r\n\r\nexport default {\r\n  props: {\r\n    number: Number\r\n  },\r\n  computed: {\r\n    styles() {\r\n      const styles = new Array(this.number)\r\n      for (let i = 0; i < styles.length; i++) {\r\n        styles[i] = {\r\n          height: px2rem(this.random()) + 'rem'\r\n        }\r\n      }\r\n      return styles\r\n    }\r\n  },\r\n  methods: {\r\n    startAnimation() {\r\n      this.task = setInterval(() => {\r\n        this.$refs.playingItem.forEach((item) => {\r\n          item.style.height = px2rem(this.random()) + 'rem'\r\n        })\r\n      }, 200)\r\n    },\r\n    stopAnimation() {\r\n      if (this.task) {\r\n        clearInterval(this.task)\r\n      }\r\n    },\r\n    random() {\r\n      return Math.ceil(Math.random() * 10)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\r\n@import '../../assets/styles/global';\r\n\r\n.playing-item-wrapper {\r\n  @include center;\r\n  .playing-item {\r\n    flex: 0 0 px2rem(2);\r\n    width: px2rem(2);\r\n    height: px2rem(1);\r\n    background: $color-blue;\r\n    margin-left: px2rem(2);\r\n    transition: all 0.2s ease-in-out;\r\n    &:first-child {\r\n      margin: 0;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakPlaying.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakPlaying.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SpeakPlaying.vue?vue&type=template&id=5a788be7&scoped=true&\"\nimport script from \"./SpeakPlaying.vue?vue&type=script&lang=js&\"\nexport * from \"./SpeakPlaying.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SpeakPlaying.vue?vue&type=style&index=0&id=5a788be7&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a788be7\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail-title-wrapper\",class:{ 'hide-shadow': _vm.ifHideShadow }},[_c('div',{staticClass:\"title-left-wrapper\",on:{\"click\":_vm.back}},[_c('span',{staticClass:\"icon-back\"})]),_c('div',{staticClass:\"title-right-wrapper\"},[(_vm.showShelf)?_c('span',{staticClass:\"icon-shelf icon\",on:{\"click\":_vm.showBookShelf}}):_c('span',{staticClass:\"icon-share\"})]),(_vm.title)?_c('div',{staticClass:\"title-text\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"detail-title-wrapper\" :class=\"{ 'hide-shadow': ifHideShadow }\">\r\n    <div class=\"title-left-wrapper\" @click=\"back\">\r\n      <span class=\"icon-back\"></span>\r\n    </div>\r\n    <div class=\"title-right-wrapper\">\r\n      <span\r\n        class=\"icon-shelf icon\"\r\n        v-if=\"showShelf\"\r\n        @click=\"showBookShelf\"\r\n      ></span>\r\n      <span class=\"icon-share\" v-else></span>\r\n    </div>\r\n    <div class=\"title-text\" v-if=\"title\">\r\n      {{ title }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nexport default {\r\n  props: {\r\n    title: String,\r\n    showShelf: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      ifHideShadow: true\r\n    }\r\n  },\r\n  methods: {\r\n    showBookShelf() {\r\n      this.$router.push('/book-store/shelf')\r\n    },\r\n    showShadow() {\r\n      this.ifHideShadow = false\r\n    },\r\n    hideShadow() {\r\n      this.ifHideShadow = true\r\n    },\r\n    back() {\r\n      this.$emit('back')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\r\n@import '../../assets/styles/global';\r\n.detail-title-wrapper {\r\n  position: relative;\r\n  display: flex;\r\n  width: 100%;\r\n  height: px2rem(42);\r\n  box-shadow: 0 px2rem(2) px2rem(2) 0 rgba(0, 0, 0, 0.1);\r\n  font-size: px2rem(20);\r\n  color: #666;\r\n  &.hide-shadow {\r\n    box-shadow: none;\r\n  }\r\n  .title-left-wrapper {\r\n    position: relative;\r\n    z-index: 200;\r\n    flex: 1;\r\n    margin-left: px2rem(15);\r\n    @include left;\r\n  }\r\n  .title-right-wrapper {\r\n    position: relative;\r\n    z-index: 200;\r\n    flex: 1;\r\n    margin-right: px2rem(15);\r\n    @include right;\r\n  }\r\n  .title-text {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 100;\r\n    width: 100%;\r\n    height: px2rem(42);\r\n    font-size: px2rem(16);\r\n    color: #333;\r\n    @include center;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailTitle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailTitle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DetailTitle.vue?vue&type=template&id=4801840a&scoped=true&\"\nimport script from \"./DetailTitle.vue?vue&type=script&lang=js&\"\nexport * from \"./DetailTitle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DetailTitle.vue?vue&type=style&index=0&id=4801840a&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4801840a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakBottom.vue?vue&type=style&index=0&id=678d87a8&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookSpeaking.vue?vue&type=style&index=0&id=b506d0fa&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakPlaying.vue?vue&type=style&index=0&id=5a788be7&lang=scss&rel=stylesheet%2Fscss&scoped=true&\""],"sourceRoot":""}